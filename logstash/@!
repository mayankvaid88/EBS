input {
	file {
		type => "APP"
		path => "/etc/logs/*app.log"
		start_position => "beginning"
	}
	file {
		type => "MIDDLEWARE"
		path => "/etc/logs/*middleware.log"
		start_position => "beginning"
	}
}

filter {
	if [type] == "APP"{
		dissect {
			mapping => { "message" => "%{traceId} %{time} %{threadName} %{loglevel} %{msg}"}
		}
	}
}

output {
	elasticsearch {
		hosts => ["192.168.1.56:9200"]
		index => "%{type}-index"
	}
	stdout { codec => rubydebug }
}
